{% extends 'inventory/base.html' %}

{% block content %}
<div class="container mt-4 screen-only">
    <h2>Bill Details</h2>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Bill #{{ bill.bill_number }}</h5>
            <p><strong>Customer:</strong> {{ bill.customer_name }}</p>
            <p><strong>Vehicle:</strong> {{ bill.vehicle }}</p>
            <p><strong>Date:</strong> {{ bill.date }}</p>
            <p><strong>Total Amount:</strong> ${{ bill.total_amount }}</p>
            <p><strong>Status:</strong> {{ bill.status }}</p>
        </div>
    </div>
    <div class="mt-3">
        <a href="{% url 'bill_list' %}" class="btn btn-secondary">Back to Bills</a>
        <button onclick="printBill()" class="btn btn-primary ml-2">Print Bill</button>
    </div>
</div>

<!-- Print-only version -->
<div class="print-only" style="display: none;">
    <div class="text-center mb-4">
        <h2>Shiv Auto Garage</h2>
        <p>Invoice Receipt</p>
    </div>
    <div>
        <h3>Bill #{{ bill.bill_number }}</h3>
        <p><strong>Customer:</strong> {{ bill.customer_name }}</p>
        <p><strong>Vehicle:</strong> {{ bill.vehicle }}</p>
        <p><strong>Date:</strong> {{ bill.date }}</p>
        <p><strong>Total Amount:</strong> ${{ bill.total_amount }}</p>
        <p><strong>Status:</strong> {{ bill.status }}</p>
    </div>
    <div class="mt-5">
        <p>Thank you for your business!</p>
    </div>
</div>

<style>
    @media print {
        .screen-only {
            display: none !important;
        }
        .print-only {
            display: block !important;
        }
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
    }
</style>

<script>
    function printBill() {
        window.print();
    }
</script>
{% endblock %}